<script type="text/x-iobroker" data-template-name="eventlist">
    <div class="row">
        <div class="col s2">
            <input type="checkbox" data-field="enabled" data-default="false"/>
            <!-- this field is mandatory, just to find out if to include this settings or not</span-->
            <span class="translate">enabled</span>
        </div>
        <div class="col s8">
            <input type="text" data-field="interval" size="30">
            <span class="translate">Event</span>
            <span style="font-style: italic; font-size: smaller" class="translate">You can use %s for value, %u for unit, %t for time and %n for name in the event</span>
        </div>
    </div>
    <div class="row eventlist-boolean" >
        <div class="col s4">
        </div>
        <div class="col s4">
            <input type="text" data-field="trueText" size="30">
            <span class="translate">True text</span>
            <span style="font-style: italic; font-size: smaller" class="translate">Leave event text empty, if this text should be used for event by true</span>
        </div>
        <div class="col s2">
            <input type="checkbox" data-field="falseText" data-default="false">
            <span class="translate">False test</span>
            <span style="font-style: italic; font-size: smaller" class="translate">Leave event text empty, if this text should be used for event by false</span>
        </div>
    </div>
</script>

<script type="text/javascript">
    $.get("adapter/eventlist/words.js", function(script) {
        let translation = script.substring(script.indexOf('{'), script.length);
        translation = translation.substring(0, translation.lastIndexOf(';'));
        $.extend(systemDictionary, JSON.parse(translation));
    });

    // There are two ways how to predefine default settings:
    // - with attribute "data-default" (content independent)
    // - with function in global variable "defaults". Function name is equal with adapter name.
    //   as input function receives object with all information concerning it
    if (typeof defaults !== 'undefined') {
        defaults["eventlist"] = function (obj, instanceObj) {
            if (obj && obj.common && obj.common.type === 'boolean') {
                return {
                    enabled:        false,
                    event:          'default',
                    trueText:       instanceObj.native.trueText,
                    falseText:      instanceObj.native.falseText,
                };
            } else {
                return {
                    enabled:        false,
                    event:          'default',
                };
            }
        }
    }
    if (typeof customPostInits !== 'undefined') {
         customPostInits["eventlist"] = function ($tab, settings, instanceObj, type, role, obj) {
            if (obj && obj.common && obj.common.type === 'boolean') {
                $('.eventlist-boolean').show();
            } else {
                $('.eventlist-boolean').hide();
            }
         };
     }
</script>